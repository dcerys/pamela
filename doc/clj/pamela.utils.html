<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>pamela.utils documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Pamela 0.2.2-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pamela</span></div></div></li><li class="depth-2 branch"><a href="pamela.cli.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cli</span></div></a></li><li class="depth-2 branch"><a href="pamela.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="pamela.daemon.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>daemon</span></div></a></li><li class="depth-2 branch"><a href="pamela.db.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>db</span></div></a></li><li class="depth-2 branch"><a href="pamela.log.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>log</span></div></a></li><li class="depth-2 branch"><a href="pamela.mode.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mode</span></div></a></li><li class="depth-2 branch"><a href="pamela.models.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>models</span></div></a></li><li class="depth-2 branch"><a href="pamela.pclass.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pclass</span></div></a></li><li class="depth-2 branch"><a href="pamela.tpn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tpn</span></div></a></li><li class="depth-2 branch"><a href="pamela.tpnrecords.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tpnrecords</span></div></a></li><li class="depth-2 branch current"><a href="pamela.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-2"><a href="pamela.web.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="pamela.utils.html#var-and-f"><div class="inner"><span>and-f</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-assoc-if"><div class="inner"><span>assoc-if</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-concatv"><div class="inner"><span>concatv</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-get-default"><div class="inner"><span>get-default</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-get-input"><div class="inner"><span>get-input</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-get-url"><div class="inner"><span>get-url</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-hash-map-compact"><div class="inner"><span>hash-map-compact</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-hash-map-compact-json"><div class="inner"><span>hash-map-compact-json</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-hash-map-defaults"><div class="inner"><span>hash-map-defaults</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-hash-map-defaults-json"><div class="inner"><span>hash-map-defaults-json</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-hash-map-from-compact-json"><div class="inner"><span>hash-map-from-compact-json</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-http-get"><div class="inner"><span>http-get</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-implies"><div class="inner"><span>implies</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-input-data"><div class="inner"><span>input-data</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-keywordize"><div class="inner"><span>keywordize</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-make-url"><div class="inner"><span>make-url</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-not-f"><div class="inner"><span>not-f</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-or-f"><div class="inner"><span>or-f</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-ppmeta"><div class="inner"><span>ppmeta</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-prototype-map-fn"><div class="inner"><span>prototype-map-fn</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-remove-clojure-comments"><div class="inner"><span>remove-clojure-comments</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-repl.3F"><div class="inner"><span>repl?</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-sleep"><div class="inner"><span>sleep</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-str-append"><div class="inner"><span>str-append</span></div></a></li><li class="depth-1"><a href="pamela.utils.html#var-var-of"><div class="inner"><span>var-of</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">pamela.utils</h2><div class="doc"><pre class="plaintext">Utility helper functions.
</pre></div><div class="public anchor" id="var-and-f"><h3>and-f</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(and-f &amp; args)</code></div><div class="doc"><pre class="plaintext">and as a function (to be used with reduce)
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-60">view source</a></div></div><div class="public anchor" id="var-assoc-if"><h3>assoc-if</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(assoc-if m k v)</code></div><div class="doc"><pre class="plaintext">associate k v in m iff v (is not a default!)
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-147">view source</a></div></div><div class="public anchor" id="var-concatv"><h3>concatv</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(concatv &amp; args)</code></div><div class="doc"><pre class="plaintext">Return the concat of args as a vector
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-102">view source</a></div></div><div class="public anchor" id="var-get-default"><h3>get-default</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(get-default m k)</code></div><div class="doc"><pre class="plaintext">get the default value for k in m
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-139">view source</a></div></div><div class="public anchor" id="var-get-input"><h3>get-input</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(get-input options)</code></div><div class="doc"><pre class="plaintext">Returns a vector with the filename and the raw data input (from a file or STDIN). Note: if multiple files are given the input is concatenated and the last filename is used.
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-238">view source</a></div></div><div class="public anchor" id="var-get-url"><h3>get-url</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(get-url url)</code></div><div class="doc"><pre class="plaintext">Will retrieve the data at url (returns nil on failure).
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-226">view source</a></div></div><div class="public anchor" id="var-hash-map-compact"><h3>hash-map-compact</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(hash-map-compact m &amp; [meta-data])</code></div><div class="doc"><pre class="plaintext">remove all the defaults for m
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-157">view source</a></div></div><div class="public anchor" id="var-hash-map-compact-json"><h3>hash-map-compact-json</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(hash-map-compact-json m)</code></div><div class="doc"><pre class="plaintext">Make a compact json form of m
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-167">view source</a></div></div><div class="public anchor" id="var-hash-map-defaults"><h3>hash-map-defaults</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(hash-map-defaults m)</code></div><div class="doc"><pre class="plaintext">fill in all the defaults for m (verbosely)
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-129">view source</a></div></div><div class="public anchor" id="var-hash-map-defaults-json"><h3>hash-map-defaults-json</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(hash-map-defaults-json m)</code></div><div class="doc"><pre class="plaintext">Make a default json form of m
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-173">view source</a></div></div><div class="public anchor" id="var-hash-map-from-compact-json"><h3>hash-map-from-compact-json</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(hash-map-from-compact-json j meta-data)</code></div><div class="doc"><pre class="plaintext">Use prototype to convert from compact JSON to a hash map
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-184">view source</a></div></div><div class="public anchor" id="var-http-get"><h3>http-get</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(http-get url)</code><code>(http-get url req)</code></div><div class="doc"><pre class="plaintext">Wrapper for clj-http.core/get
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-215">view source</a></div></div><div class="public anchor" id="var-implies"><h3>implies</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(implies)</code><code>(implies a)</code><code>(implies a b)</code><code>(implies a b &amp; more)</code></div><div class="doc"><pre class="plaintext">logical implies
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-86">view source</a></div></div><div class="public anchor" id="var-input-data"><h3>input-data</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-31">view source</a></div></div><div class="public anchor" id="var-keywordize"><h3>keywordize</h3><div class="usage"><code>(keywordize k)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-301">view source</a></div></div><div class="public anchor" id="var-make-url"><h3>make-url</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(make-url path)</code><code>(make-url protocol host port file)</code></div><div class="doc"><pre class="plaintext">Tries to make a URL from the path (or returns nil on failure).
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-207">view source</a></div></div><div class="public anchor" id="var-not-f"><h3>not-f</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(not-f arg)</code></div><div class="doc"><pre class="plaintext">not as a function (to be used with reduce)
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-80">view source</a></div></div><div class="public anchor" id="var-or-f"><h3>or-f</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(or-f &amp; args)</code></div><div class="doc"><pre class="plaintext">or as a function (to be used with reduce)
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-70">view source</a></div></div><div class="public anchor" id="var-ppmeta"><h3>ppmeta</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(ppmeta body)</code></div><div class="doc"><pre class="plaintext">Pretty print with metadata
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-52">view source</a></div></div><div class="public anchor" id="var-prototype-map-fn"><h3>prototype-map-fn</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(prototype-map-fn prototype-defaults)</code><code>(prototype-map-fn prototype-defaults prototype-json-fns)</code><code>(prototype-map-fn prototype-defaults prototype-json-fns prototype-name)</code></div><div class="doc"><pre class="plaintext">returns a a function like hash-map that undersands the prototype-defaults
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-110">view source</a></div></div><div class="public anchor" id="var-remove-clojure-comments"><h3>remove-clojure-comments</h3><h4 class="added">added in 0.2.2</h4><div class="usage"><code>(remove-clojure-comments s)</code></div><div class="doc"><pre class="plaintext">Remove Clojure comments from s
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-34">view source</a></div></div><div class="public anchor" id="var-repl.3F"><h3>repl?</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(repl?)</code></div><div class="doc"><pre class="plaintext">Helper function returns true if on the REPL (for development)
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-194">view source</a></div></div><div class="public anchor" id="var-sleep"><h3>sleep</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(sleep s)</code></div><div class="doc"><pre class="plaintext">sleeps for the given number of seconds (may be fractional)
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-295">view source</a></div></div><div class="public anchor" id="var-str-append"><h3>str-append</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(str-append a b)</code></div><div class="doc"><pre class="plaintext">Append b to a (if a is not nil), else return b
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-44">view source</a></div></div><div class="public anchor" id="var-var-of"><h3>var-of</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(var-of v ns)</code></div><div class="doc"><pre class="plaintext">Returns the var corresponding the value v (if defined in ns).
</pre></div><div class="src-link"><a href="https://bitbucket.org/dollinc-pamela/pamela/src/master/code/src/main/clj/pamela/utils.clj#cl-200">view source</a></div></div></div></body></html>